<title>Reportar</title>
<link rel="stylesheet" href="../public/css/vistas/reportarPreguntaStyle.css">
<link rel="stylesheet" href="../public/css/componentes/headerComponente.css">
<body>

  <header class="header"> 
    <h2 class="titulo">Preguntados</h2>
    <div class="user-info">
        <form method="POST" action="/Preguntados/inicio/logout">
        <input class="logout-btn" type="submit" value="Cerrar sesión">
        </form>
        <p class="username">{{usuario}}</p>
        <a href="/perfil">
            {{#foto_perfil}}
                <img src="/{{foto_perfil}}" alt="{{usuario}}" class="img-fluid rounded-circle" width="50" height="50">
            {{/foto_perfil}}
            {{^foto_perfil}}
                <img src="/public/imagenes/usuarioImagenDefault.png" alt="{{usuario}}" class="img-fluid rounded-circle" width="50" height="50">
            {{/foto_perfil}}
        </a>
    </div>
  </header>

<main class="container">
  <h1>Reportar Pregunta</h1>

  <section class="pregunta-card">
    <h2 class="pregunta-titulo">Detalle de la pregunta</h2>

    <div class="pregunta-info">
      <p><strong>Descripción:</strong> {{pregunta.descripcion}}</p>
      <p><strong>Categoría:</strong> {{pregunta.id_categoria}}</p>
    </div>

    <div class="respuestas">
      <h3>Respuestas:</h3>
      {{#respuestas}}
      <div class="respuesta-item">
        <span>• {{descripcion}}</span>
        <span class="estado">
          {{#es_correcta}}✅ Correcta{{/es_correcta}}
          {{^es_correcta}}❌ Incorrecta{{/es_correcta}}
        </span>
      </div>
      {{/respuestas}}

      {{^respuestas}}
      <p class="meta-info warning">No hay respuestas registradas para esta pregunta.</p>
      {{/respuestas}}
    </div>

    {{#mensaje}}
    <div class="alerta success">{{mensaje}}</div>
    {{/mensaje}}

    {{#error}}
    <div class="alerta danger">{{error}}</div>
    {{/error}}

    <form action="/reportarPregunta/crearReporteDePregunta" method="post">
      <input type="hidden" name="id_pregunta" value="{{pregunta.id_pregunta}}">

      <div class="mb-3">
        <label for="motivo" class="form-label">Motivo del reporte:</label>
        <textarea id="motivo" name="motivo" class="motivo-textarea" rows="3" placeholder="Explicá por qué estás reportando esta pregunta..." required></textarea>
      </div>

      <div class="acciones">
        <button type="submit" class="btn btn-danger">Enviar reporte</button>
        <a href="/inicio" class="btn btn-volver">Volver</a>
      </div>
    </form>
  </section>
</main>